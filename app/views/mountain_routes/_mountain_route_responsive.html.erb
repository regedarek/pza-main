<div id="<%= dom_id mountain_route %>" class="grid lg:grid-cols-2 gap-5">
  <div>
    <div class="px-4 sm:px-0">
      <h3 class="text-base font-semibold leading-7 text-gray-900"><%= mountain_route.name %></h3>
      <p class="mt-1 max-w-2xl text-sm leading-6 text-gray-500">
        <%= MountainRoute.human_enum_name(:sport_type, mountain_route.sport_type) %>
      </p>
      <p class="mt-1 max-w-2xl text-sm leading-6 text-gray-500">
        <%= sanitize team_link(mountain_route) %>
      </p>
    </div>
    <div class="mt-6 border-t border-gray-100">
      <dl class="divide-y divide-gray-100">
        <div class="bg-gray-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.activity_date' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.activity_date %></dd>
        </div>
        <div class="bg-gray-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.area' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.area %></dd>
        </div>
        <div class="bg-gray-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.length' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.length %></dd>
        </div>
        <div class="<%= mountain_route.hidden ? "bg-red-50" : "bg-gray-50" %> px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.hidden' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= I18n.t mountain_route.hidden %></dd>
        </div>
        <div class="bg-blue-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.equipped' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= I18n.t mountain_route.equipped %></dd>
        </div>
        <div class="bg-blue-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.french_difficulty' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.french_difficulty %></dd>
        </div>
        <div class="bg-blue-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.custom_difficulty' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.custom_difficulty %></dd>
        </div>
        <div class="bg-blue-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
          <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.style' %></dt>
          <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.style %></dd>
        </div>

        <% if mountain_route.multipitch.present? %>
          <div class="bg-yellow-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
            <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.multipitch' %></dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= I18n.t mountain_route.multipitch %></dd>
          </div>
          <div class="bg-yellow-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
            <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.multipitch_style' %></dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.multipitch_style %></dd>
          </div>
          <div class="bg-yellow-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
            <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.multipitch_number' %></dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.multipitch_number %></dd>
          </div>
          <div class="bg-yellow-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
            <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.multipitch_lead' %></dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.multipitch_lead %></dd>
          </div>
          <div class="bg-yellow-50 px-4 py-6 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
            <dt class="text-sm font-medium leading-6 text-gray-900"><%= I18n.t 'activerecord.attributes.mountain_route.multipitch_difficulty' %></dt>
            <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.multipitch_difficulty %></dd>
          </div>
        <% end %>
      </dl>
    </div>
  </div>
  <div>
    <% if mountain_route.images.attached? %>
      <div class="grid grid-cols-4 gap-5">
        <% mountain_route.images.each do |image| %>
          <div data-controller="modal">
            <dialog data-modal-target="dialog" class="p-8 rounded-lg backdrop:bg-black/80 w-2/3">
                <button type="button" class="absolute top-3 end-2.5 text-gray-400 bg-transparent hover:bg-gray-200 hover:text-gray-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-gray-600 dark:hover:text-white" data-modal-toggle="crud-modal" data-action="modal#close">
                    <svg class="w-3 h-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 14">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"/>
                    </svg>
                    <span class="sr-only"><%= t('.close') %></span>
                </button>
              <%= image_tag image, class: "rounded-lg" %>
            </dialog>

            <%= image_tag image.variant(:thumb), class: "rounded-lg", data: { action: "click->modal#open" } %>
          </div>
        <% end %>
      </div>
    <% end %>

    <% if mountain_route.description.present? %>
      <div class="rounded border bg-gray-50 px-4 py-6 mt-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-3">
        <dd class="mt-1 text-sm leading-6 text-gray-700 sm:col-span-2 sm:mt-0"><%= mountain_route.description %></dd>
      </div>
    <% end %>

    <%= render 'messaging/comments/comments', commentable: @mountain_route %>
  </div>
</div>

var t={};!function(i,a){"object"==typeof t&&"object"==typeof module?module.exports=a():"function"==typeof define&&define.amd?define([],a):"object"==typeof t?t.SlimSelect=a():i.SlimSelect=a()}(window,(function(){return i={},s.m=t=[function(t,i,a){function n(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),a}i.__esModule=!0,i.kebabCase=i.highlight=i.isValueInArrayOfObjects=i.debounce=i.putContent=i.ensureElementInView=i.hasClassInTree=void 0,i.hasClassInTree=function(t,i){function n(t,i){return i&&t&&t.classList&&t.classList.contains(i)?t:null}return n(t,i)||function e(t,i){return t&&t!==document?n(t,i)?t:e(t.parentNode,i):null}(t,i)},i.ensureElementInView=function(t,i){var a=t.scrollTop+t.offsetTop,o=a+t.clientHeight,c=i.offsetTop;i=c+i.clientHeight;c<a?t.scrollTop-=a-c:o<i&&(t.scrollTop+=i-o)},i.putContent=function(t,i,a){var o=t.offsetHeight,c=t.getBoundingClientRect();t=a?c.top:c.top-o,o=a?c.bottom:c.bottom+o;return t<=0?"below":o>=window.innerHeight?"above":a?i:"below"},i.debounce=function(t,i,a){var o;return void 0===i&&(i=100),void 0===a&&(a=!1),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var h=self,u=a&&!o;clearTimeout(o),o=setTimeout((function(){o=null,a||t.apply(h,c)}),i),u&&t.apply(h,c)}},i.isValueInArrayOfObjects=function(t,i,a){if(!Array.isArray(t))return t[i]===a;for(var o=0,c=t;o<c.length;o++){var d=c[o];if(d&&d[i]&&d[i]===a)return!0}return!1},i.highlight=function(t,i,a){var o=t,c=new RegExp("("+i.trim()+")(?![^<]*>[^<>]*</)","i");if(!t.match(c))return t;var d=t.match(c).index;i=d+t.match(c)[0].toString().length,i=t.substring(d,i);return o.replace(c,'<mark class="'.concat(a,'">').concat(i,"</mark>"))},i.kebabCase=function(t){var i=t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(t){return"-"+t.toLowerCase()}));return t[0]===t[0].toUpperCase()?i.substring(1):i},"function"!=typeof(i=window).CustomEvent&&(n.prototype=i.Event.prototype,i.CustomEvent=n)},function(t,i,a){i.__esModule=!0,i.validateOption=i.validateData=i.Data=void 0;var o=(s.prototype.newOption=function(t){return{id:t.id||String(Math.floor(1e8*Math.random())),value:t.value||"",text:t.text||"",innerHTML:t.innerHTML||"",selected:t.selected||!1,display:void 0===t.display||t.display,disabled:t.disabled||!1,placeholder:t.placeholder||!1,class:t.class||void 0,data:t.data||{},mandatory:t.mandatory||!1}},s.prototype.add=function(t){this.data.push({id:String(Math.floor(1e8*Math.random())),value:t.value,text:t.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:t.mandatory,data:{}})},s.prototype.parseSelectData=function(){this.data=[];for(var t=0,i=this.main.select.element.childNodes;t<i.length;t++){var a=i[t];if("OPTGROUP"===a.nodeName){for(var o={label:a.label,options:[]},c=0,d=a.childNodes;c<d.length;c++){var h,u=d[c];"OPTION"===u.nodeName&&(h=this.pullOptionData(u),o.options.push(h),h.placeholder&&""!==h.text.trim()&&(this.main.config.placeholderText=h.text))}this.data.push(o)}else"OPTION"===a.nodeName&&(h=this.pullOptionData(a),this.data.push(h),h.placeholder&&""!==h.text.trim()&&(this.main.config.placeholderText=h.text))}},s.prototype.pullOptionData=function(t){return{id:!!t.dataset&&t.dataset.id||String(Math.floor(1e8*Math.random())),value:t.value,text:t.text,innerHTML:t.innerHTML,selected:t.selected,disabled:t.disabled,placeholder:"true"===t.dataset.placeholder,class:t.className,style:t.style.cssText,data:t.dataset,mandatory:!!t.dataset&&"true"===t.dataset.mandatory}},s.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var t=[],i=0,a=this.main.select.element.options;i<a.length;i++){var o=a[i];!o.selected||(o=this.getObjectFromData(o.value,"value"))&&o.id&&t.push(o.id)}this.setSelected(t,"id")}else{var c=this.main.select.element;-1!==c.selectedIndex&&(c=c.options[c.selectedIndex].value,this.setSelected(c,"value"))}},s.prototype.setSelected=function(t,i){void 0===i&&(i="id");for(var a=0,o=this.data;a<o.length;a++){var c=o[a];if(c.hasOwnProperty("label")){if(c.hasOwnProperty("options")){var d=c.options;if(d)for(var h=0,u=d;h<u.length;h++){var p=u[h];p.placeholder||(p.selected=this.shouldBeSelected(p,t,i))}}}else c.selected=this.shouldBeSelected(c,t,i)}},s.prototype.shouldBeSelected=function(t,i,a){if(void 0===a&&(a="id"),Array.isArray(i))for(var o=0,c=i;o<c.length;o++){var d=c[o];if(a in t&&String(t[a])===String(d))return!0}else if(a in t&&String(t[a])===String(i))return!0;return!1},s.prototype.getSelected=function(){for(var t={text:"",placeholder:this.main.config.placeholderText},i=[],a=0,o=this.data;a<o.length;a++){var c=o[a];if(c.hasOwnProperty("label")){if(c.hasOwnProperty("options")){var d=c.options;if(d)for(var h=0,u=d;h<u.length;h++){var p=u[h];p.selected&&(this.main.config.isMultiple?i.push(p):t=p)}}}else c.selected&&(this.main.config.isMultiple?i.push(c):t=c)}return this.main.config.isMultiple?i:t},s.prototype.addToSelected=function(t,i){if(void 0===i&&(i="id"),this.main.config.isMultiple){var a=[],o=this.getSelected();if(Array.isArray(o))for(var c=0,d=o;c<d.length;c++){var h=d[c];a.push(h[i])}a.push(t),this.setSelected(a,i)}},s.prototype.removeFromSelected=function(t,i){if(void 0===i&&(i="id"),this.main.config.isMultiple){for(var a=[],o=0,c=this.getSelected();o<c.length;o++){var d=c[o];String(d[i])!==String(t)&&a.push(d[i])}this.setSelected(a,i)}},s.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},s.prototype.getObjectFromData=function(t,i){void 0===i&&(i="id");for(var a=0,o=this.data;a<o.length;a++){var c=o[a];if(i in c&&String(c[i])===String(t))return c;if(c.hasOwnProperty("options")&&c.options)for(var d=0,h=c.options;d<h.length;d++){var u=h[d];if(String(u[i])===String(t))return u}}return null},s.prototype.search=function(t){var i,a;""!==(this.searchValue=t).trim()?(i=this.main.config.searchFilter,a=this.data.slice(0),t=t.trim(),a=a.map((function(a){if(a.hasOwnProperty("options")){var o=a,c=[];if(0!==(c=o.options?o.options.filter((function(a){return i(a,t)})):c).length){o=Object.assign({},o);return o.options=c,o}}return a.hasOwnProperty("text")&&i(a,t)?a:null})),this.filtered=a.filter((function(t){return t}))):this.filtered=null},s);function s(t){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=t.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function r(t){return void 0!==t.text||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(t)),!1)}i.Data=o,i.validateData=function(t){if(!t)return console.error("Data must be an array of objects"),!1;for(var i=0,a=0,o=t;a<o.length;a++){var c=o[a];if(c.hasOwnProperty("label")){if(c.hasOwnProperty("options")){var d=c.options;if(d)for(var h=0,u=d;h<u.length;h++)r(u[h])||i++}}else r(c)||i++}return 0===i},i.validateOption=r},function(t,i,a){i.__esModule=!0;var o=a(3),c=a(4),d=a(5),h=a(1),u=a(0);a=(l.prototype.validate=function(t){t="string"==typeof t.select?document.querySelector(t.select):t.select;if(!t)throw new Error("Could not find select element");if("SELECT"!==t.tagName)throw new Error("Element isnt of type select");return t},l.prototype.selected=function(){if(this.config.isMultiple){for(var t=[],i=0,a=c=this.data.getSelected();i<a.length;i++){var o=a[i];t.push(o.value)}return t}var c;return(c=this.data.getSelected())?c.value:""},l.prototype.set=function(t,i,a,o){void 0===i&&(i="value"),void 0===a&&(a=!0),void 0===o&&(o=!0),this.config.isMultiple&&!Array.isArray(t)?this.data.addToSelected(t,i):this.data.setSelected(t,i),this.select.setValue(),this.data.onDataChange(),this.render(),(a=!(!this.config.hideSelectedOption||!this.config.isMultiple||this.data.getSelected().length!==this.data.data.length)||a)&&this.close()},l.prototype.setSelected=function(t,i,a,o){this.set(t,i=void 0===i?"value":i,a=void 0===a||a,o=void 0===o||o)},l.prototype.setData=function(t){if((0,h.validateData)(t)){for(var i=JSON.parse(JSON.stringify(t)),a=this.data.getSelected(),o=0;o<i.length;o++)i[o].value||i[o].placeholder||(i[o].value=i[o].text);if(this.config.isAjax&&a)if(this.config.isMultiple)for(var c=0,d=a.reverse();c<d.length;c++){var u=d[c];i.unshift(u)}else{i.unshift(a);for(o=0;o<i.length;o++)i[o].placeholder||i[o].value!==a.value||i[o].text!==a.text||i.splice(o,1);var p=!1;for(o=0;o<i.length;o++)i[o].placeholder&&(p=!0);p||i.unshift({text:"",placeholder:!0})}this.select.create(i),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},l.prototype.addData=function(t){(0,h.validateData)([t])?(this.data.add(this.data.newOption(t)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},l.prototype.open=function(){var t,i=this;this.config.isEnabled&&(this.data.contentOpen||this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length||(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add("above"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody&&(t=this.slim.container.getBoundingClientRect(),this.slim.content.style.top=t.top+t.height+window.scrollY+"px",this.slim.content.style.left=t.left+window.scrollX+"px",this.slim.content.style.width=t.width+"px"),this.slim.content.classList.add(this.config.open),"up"===this.config.showContent.toLowerCase()||"down"!==this.config.showContent.toLowerCase()&&"above"===(0,u.putContent)(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),this.config.isMultiple||(t=this.data.getSelected())&&(t=t.id,(t=this.slim.list.querySelector('[data-id="'+t+'"]'))&&(0,u.ensureElementInView)(this.slim.list,t)),setTimeout((function(){i.data.contentOpen=!0,i.config.searchFocus&&i.slim.search.input.focus(),i.afterOpen&&i.afterOpen()}),this.config.timeoutDelay)))},l.prototype.close=function(){var t=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout((function(){t.slim.content.removeAttribute("style"),t.data.contentPosition="below",t.config.isMultiple&&t.slim.multiSelected?(t.slim.multiSelected.container.classList.remove(t.config.openAbove),t.slim.multiSelected.container.classList.remove(t.config.openBelow)):t.slim.singleSelected&&(t.slim.singleSelected.container.classList.remove(t.config.openAbove),t.slim.singleSelected.container.classList.remove(t.config.openBelow)),t.slim.search.input.blur(),t.afterClose&&t.afterClose()}),this.config.timeoutDelay))},l.prototype.moveContentAbove=function(){var t=0;this.config.isMultiple&&this.slim.multiSelected?t=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(t=this.slim.singleSelected.container.offsetHeight);var i=t+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+i+"px 0 0 0",this.slim.content.style.height=i-t+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},l.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},l.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},l.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},l.prototype.search=function(t){var i;this.data.searchValue!==t&&(this.slim.search.input.value=t,this.config.isAjax?((i=this).config.isSearching=!0,this.render(),this.ajax&&this.ajax(t,(function(a){i.config.isSearching=!1,Array.isArray(a)?(a.unshift({text:"",placeholder:!0}),i.setData(a),i.data.search(t),i.render()):"string"==typeof a?i.slim.options(a):i.render()}))):(this.data.search(t),this.render()))},l.prototype.setSearchText=function(t){this.config.searchText=t},l.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},l.prototype.destroy=function(t){var i=(t=void 0===t?null:t)?document.querySelector("."+t+".ss-main"):this.slim.container,a=t?document.querySelector("[data-ssid=".concat(t,"]")):this.select.element;i&&a&&(document.removeEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.removeEventListener("scroll",this.windowScroll,!1),a.style.display="",delete a.dataset.ssid,a.slim=null,i.parentElement&&i.parentElement.removeChild(i),!this.config.addToBody||(t=t?document.querySelector("."+t+".ss-content"):this.slim.content)&&document.body.removeChild(t))},l);function l(t){var i=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=(0,u.debounce)((function(t){i.data.contentOpen&&("above"===(0,u.putContent)(i.slim.content,i.data.contentPosition,i.data.contentOpen)?i.moveContentAbove():i.moveContentBelow())})),this.documentClick=function(t){t.target&&!(0,u.hasClassInTree)(t.target,i.config.id)&&i.close()};var a=this.validate(t);a.dataset.ssid&&this.destroy(a.dataset.ssid),t.ajax&&(this.ajax=t.ajax),t.addable&&(this.addable=t.addable),this.config=new o.Config({select:a,isAjax:!!t.ajax,showSearch:t.showSearch,searchPlaceholder:t.searchPlaceholder,searchText:t.searchText,searchingText:t.searchingText,searchFocus:t.searchFocus,searchHighlight:t.searchHighlight,searchFilter:t.searchFilter,closeOnSelect:t.closeOnSelect,showContent:t.showContent,placeholderText:t.placeholder,allowDeselect:t.allowDeselect,allowDeselectOption:t.allowDeselectOption,hideSelectedOption:t.hideSelectedOption,deselectLabel:t.deselectLabel,isEnabled:t.isEnabled,valuesUseText:t.valuesUseText,showOptionTooltips:t.showOptionTooltips,selectByGroup:t.selectByGroup,limit:t.limit,timeoutDelay:t.timeoutDelay,addToBody:t.addToBody}),this.select=new c.Select({select:a,main:this}),this.data=new h.Data({main:this}),this.slim=new d.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),t.data?this.setData(t.data):this.render(),document.addEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.addEventListener("scroll",this.windowScroll,!1),t.beforeOnChange&&(this.beforeOnChange=t.beforeOnChange),t.onChange&&(this.onChange=t.onChange),t.beforeOpen&&(this.beforeOpen=t.beforeOpen),t.afterOpen&&(this.afterOpen=t.afterOpen),t.beforeClose&&(this.beforeClose=t.beforeClose),t.afterClose&&(this.afterClose=t.afterClose),this.config.isEnabled||this.disable()}i.default=a},function(t,i,a){i.__esModule=!0,i.Config=void 0;var o=(s.prototype.searchFilter=function(t,i){return-1!==t.text.toLowerCase().indexOf(i.toLowerCase())},s);function s(t){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=t.select.style.cssText,this.class=t.select.className.split(" "),this.isMultiple=t.select.multiple,this.isAjax=t.isAjax,this.showSearch=!1!==t.showSearch,this.searchFocus=!1!==t.searchFocus,this.searchHighlight=!0===t.searchHighlight,this.closeOnSelect=!1!==t.closeOnSelect,t.showContent&&(this.showContent=t.showContent),this.isEnabled=!1!==t.isEnabled,t.searchPlaceholder&&(this.searchPlaceholder=t.searchPlaceholder),t.searchText&&(this.searchText=t.searchText),t.searchingText&&(this.searchingText=t.searchingText),t.placeholderText&&(this.placeholderText=t.placeholderText),this.allowDeselect=!0===t.allowDeselect,this.allowDeselectOption=!0===t.allowDeselectOption,this.hideSelectedOption=!0===t.hideSelectedOption,t.deselectLabel&&(this.deselectLabel=t.deselectLabel),t.valuesUseText&&(this.valuesUseText=t.valuesUseText),t.showOptionTooltips&&(this.showOptionTooltips=t.showOptionTooltips),t.selectByGroup&&(this.selectByGroup=t.selectByGroup),t.limit&&(this.limit=t.limit),t.searchFilter&&(this.searchFilter=t.searchFilter),null!=t.timeoutDelay&&(this.timeoutDelay=t.timeoutDelay),this.addToBody=!0===t.addToBody}i.Config=o},function(t,i,a){i.__esModule=!0,i.Select=void 0;var o=a(0);a=(s.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var t=this.main.data.getSelected(),i=0,a=this.element.options;i<a.length;i++){var o=a[i];o.selected=!1;for(var c=0,d=t;c<d.length;c++)d[c].value===o.value&&(o.selected=!0)}else{t=this.main.data.getSelected();this.element.value=t?t.value:""}this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},s.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id,this.element.setAttribute("aria-hidden","true")},s.prototype.addEventListeners=function(){var t=this;this.element.addEventListener("change",(function(i){t.main.data.setSelectedFromSelect(),t.main.render()}))},s.prototype.addMutationObserver=function(){var t=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver((function(i){t.triggerMutationObserver&&(t.main.data.parseSelectData(),t.main.data.setSelectedFromSelect(),t.main.render(),i.forEach((function(i){"class"===i.attributeName&&t.main.slim.updateContainerDivClass(t.main.slim.container)})))})),this.observeMutationObserver())},s.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},s.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},s.prototype.create=function(t){this.element.innerHTML="";for(var i=0,a=t;i<a.length;i++){var o=a[i];if(o.hasOwnProperty("options")){var c=o,d=document.createElement("optgroup");if(d.label=c.label,c.options)for(var h=0,u=c.options;h<u.length;h++){var p=u[h];d.appendChild(this.createOption(p))}this.element.appendChild(d)}else this.element.appendChild(this.createOption(o))}},s.prototype.createOption=function(t){var i=document.createElement("option");return i.value=""!==t.value?t.value:t.text,i.innerHTML=t.innerHTML||t.text,t.selected&&(i.selected=t.selected),!1===t.display&&(i.style.display="none"),t.disabled&&(i.disabled=!0),t.placeholder&&i.setAttribute("data-placeholder","true"),t.mandatory&&i.setAttribute("data-mandatory","true"),t.class&&t.class.split(" ").forEach((function(t){i.classList.add(t)})),t.data&&"object"==typeof t.data&&Object.keys(t.data).forEach((function(a){i.setAttribute("data-"+(0,o.kebabCase)(a),t.data[a])})),i},s);function s(t){this.triggerMutationObserver=!0,this.element=t.select,this.main=t.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=t.main}i.Select=a},function(t,i,a){i.__esModule=!0,i.Slim=void 0;var o=a(0),c=a(1);a=(s.prototype.containerDiv=function(){var t=document.createElement("div");return t.style.cssText=this.main.config.style,this.updateContainerDivClass(t),t},s.prototype.updateContainerDivClass=function(t){this.main.config.class=this.main.select.element.className.split(" "),t.className="",t.classList.add(this.main.config.id),t.classList.add(this.main.config.main);for(var i=0,a=this.main.config.class;i<a.length;i++){var o=a[i];""!==o.trim()&&t.classList.add(o)}},s.prototype.singleSelectedDiv=function(){var t=this,i=document.createElement("div");i.classList.add(this.main.config.singleSelected);var a=document.createElement("span");a.classList.add("placeholder"),i.appendChild(a);var o=document.createElement("span");o.innerHTML=this.main.config.deselectLabel,o.classList.add("ss-deselect"),o.onclick=function(i){i.stopPropagation(),t.main.config.isEnabled&&t.main.set("")},i.appendChild(o);var c=document.createElement("span");c.classList.add(this.main.config.arrow);var d=document.createElement("span");return d.classList.add("arrow-down"),c.appendChild(d),i.appendChild(c),i.onclick=function(){t.main.config.isEnabled&&(t.main.data.contentOpen?t.main.close():t.main.open())},{container:i,placeholder:a,deselect:o,arrowIcon:{container:c,arrow:d}}},s.prototype.placeholder=function(){var t,i=this.main.data.getSelected();null===i||i&&i.placeholder?((t=document.createElement("span")).classList.add(this.main.config.disabled),t.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t.outerHTML)):(t="",i&&(t=i.innerHTML&&!0!==this.main.config.valuesUseText?i.innerHTML:i.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=i?t:""))},s.prototype.deselect=function(){this.singleSelected&&(this.main.config.allowDeselect&&""!==this.main.selected()?this.singleSelected.deselect.classList.remove("ss-hide"):this.singleSelected.deselect.classList.add("ss-hide"))},s.prototype.multiSelectedDiv=function(){var t=this,i=document.createElement("div");i.classList.add(this.main.config.multiSelected);var a=document.createElement("div");a.classList.add(this.main.config.values),i.appendChild(a);var o=document.createElement("div");o.classList.add(this.main.config.add);var c=document.createElement("span");return c.classList.add(this.main.config.plus),c.onclick=function(i){t.main.data.contentOpen&&(t.main.close(),i.stopPropagation())},o.appendChild(c),i.appendChild(o),i.onclick=function(i){t.main.config.isEnabled&&(i.target.classList.contains(t.main.config.valueDelete)||(t.main.data.contentOpen?t.main.close():t.main.open()))},{container:i,values:a,add:o,plus:c}},s.prototype.values=function(){if(this.multiSelected){for(var t=this.multiSelected.values.childNodes,i=this.main.data.getSelected(),a=[],o=0,c=t;o<c.length;o++){for(var d=c[o],h=!0,u=0,p=i;u<p.length;u++){var m=p[u];String(m.id)===String(d.dataset.id)&&(h=!1)}h&&a.push(d)}for(var f=0,g=a;f<g.length;f++){var v=g[f];v.classList.add("ss-out"),this.multiSelected.values.removeChild(v)}var b;for(t=this.multiSelected.values.childNodes,m=0;m<i.length;m++){h=!1;for(var S=0,y=t;S<y.length;S++){d=y[S];String(i[m].id)===String(d.dataset.id)&&(h=!0)}h||(0!==t.length&&HTMLElement.prototype.insertAdjacentElement?0===m?this.multiSelected.values.insertBefore(this.valueDiv(i[m]),t[m]):t[m-1].insertAdjacentElement("afterend",this.valueDiv(i[m])):this.multiSelected.values.appendChild(this.valueDiv(i[m])))}0===i.length&&((b=document.createElement("span")).classList.add(this.main.config.disabled),b.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=b.outerHTML)}},s.prototype.valueDiv=function(t){var i=this,a=document.createElement("div");a.classList.add(this.main.config.value),a.dataset.id=t.id;var o=document.createElement("span");return o.classList.add(this.main.config.valueText),o.innerHTML=t.innerHTML&&!0!==this.main.config.valuesUseText?t.innerHTML:t.text,a.appendChild(o),t.mandatory||((o=document.createElement("span")).classList.add(this.main.config.valueDelete),o.innerHTML=this.main.config.deselectLabel,o.onclick=function(a){a.preventDefault(),a.stopPropagation();var o=!1;if(i.main.beforeOnChange||(o=!0),i.main.beforeOnChange){a=i.main.data.getSelected();for(var c=JSON.parse(JSON.stringify(a)),d=0;d<c.length;d++)c[d].id===t.id&&c.splice(d,1);!1!==i.main.beforeOnChange(c)&&(o=!0)}o&&(i.main.data.removeFromSelected(t.id,"id"),i.main.render(),i.main.select.setValue(),i.main.data.onDataChange())},a.appendChild(o)),a},s.prototype.contentDiv=function(){var t=document.createElement("div");return t.classList.add(this.main.config.content),t},s.prototype.searchDiv=function(){var t=this,i=document.createElement("div"),a=document.createElement("input"),o=document.createElement("div");i.classList.add(this.main.config.search);var d={container:i,input:a};return this.main.config.showSearch||(i.classList.add(this.main.config.hide),a.readOnly=!0),a.type="search",a.placeholder=this.main.config.searchPlaceholder,a.tabIndex=0,a.setAttribute("aria-label",this.main.config.searchPlaceholder),a.setAttribute("autocapitalize","off"),a.setAttribute("autocomplete","off"),a.setAttribute("autocorrect","off"),a.onclick=function(i){setTimeout((function(){""===i.target.value&&t.main.search("")}),10)},a.onkeydown=function(i){"ArrowUp"===i.key?(t.main.open(),t.highlightUp(),i.preventDefault()):"ArrowDown"===i.key?(t.main.open(),t.highlightDown(),i.preventDefault()):"Tab"===i.key?t.main.data.contentOpen?t.main.close():setTimeout((function(){t.main.close()}),t.main.config.timeoutDelay):"Enter"===i.key&&i.preventDefault()},a.onkeyup=function(i){var c=i.target;if("Enter"===i.key){if(t.main.addable&&i.ctrlKey)return o.click(),i.preventDefault(),void i.stopPropagation();var d=t.list.querySelector("."+t.main.config.highlighted);d&&d.click()}else"ArrowUp"===i.key||"ArrowDown"===i.key||("Escape"===i.key?t.main.close():t.main.config.showSearch&&t.main.data.contentOpen?t.main.search(c.value):a.value="");i.preventDefault(),i.stopPropagation()},a.onfocus=function(){t.main.open()},i.appendChild(a),this.main.addable&&(o.classList.add(this.main.config.addable),o.innerHTML="+",o.onclick=function(i){var a;t.main.addable&&(i.preventDefault(),i.stopPropagation(),""!==(i=t.search.input.value).trim()?(i=t.main.addable(i),a="",i&&("object"==typeof i?(0,c.validateOption)(i)&&(t.main.addData(i),a=i.value||i.text):(t.main.addData(t.main.data.newOption({text:i,value:i})),a=i),t.main.search(""),setTimeout((function(){t.main.set(a,"value",!1,!1)}),100),t.main.config.closeOnSelect&&setTimeout((function(){t.main.close()}),100))):t.search.input.focus())},i.appendChild(o),d.addable=o),d},s.prototype.highlightUp=function(){var t=this.list.querySelector("."+this.main.config.highlighted),i=null;if(t)for(i=t.previousSibling;null!==i&&i.classList.contains(this.main.config.disabled);)i=i.previousSibling;else{var a=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");i=a[a.length-1]}null!==(i=i&&i.classList.contains(this.main.config.optgroupLabel)?null:i)||(a=t.parentNode).classList.contains(this.main.config.optgroup)&&(!a.previousSibling||(a=a.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")")).length&&(i=a[a.length-1])),i&&(t&&t.classList.remove(this.main.config.highlighted),i.classList.add(this.main.config.highlighted),(0,o.ensureElementInView)(this.list,i))},s.prototype.highlightDown=function(){var t,i=this.list.querySelector("."+this.main.config.highlighted),a=null;if(i)for(a=i.nextSibling;null!==a&&a.classList.contains(this.main.config.disabled);)a=a.nextSibling;else a=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");null!==a||null===i||(t=i.parentNode).classList.contains(this.main.config.optgroup)&&t.nextSibling&&(a=t.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")),a&&(i&&i.classList.remove(this.main.config.highlighted),a.classList.add(this.main.config.highlighted),(0,o.ensureElementInView)(this.list,a))},s.prototype.listDiv=function(){var t=document.createElement("div");return t.classList.add(this.main.config.list),t.setAttribute("role","listbox"),t},s.prototype.options=function(t){void 0===t&&(t="");var i=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==t)return(a=document.createElement("div")).classList.add(this.main.config.option),a.classList.add(this.main.config.disabled),a.innerHTML=t,void this.list.appendChild(a);if(this.main.config.isAjax&&this.main.config.isSearching)return(a=document.createElement("div")).classList.add(this.main.config.option),a.classList.add(this.main.config.disabled),a.innerHTML=this.main.config.searchingText,void this.list.appendChild(a);if(0===i.length){var a=document.createElement("div");return a.classList.add(this.main.config.option),a.classList.add(this.main.config.disabled),a.innerHTML=this.main.config.searchText,void this.list.appendChild(a)}for(var o=this,c=0,d=i;c<d.length;c++)!function(t){if(t.hasOwnProperty("label")){var i=t,a=document.createElement("div");a.classList.add(o.main.config.optgroup);var c=document.createElement("div");c.classList.add(o.main.config.optgroupLabel),o.main.config.selectByGroup&&o.main.config.isMultiple&&c.classList.add(o.main.config.optgroupLabelSelectable),c.innerHTML=i.label,a.appendChild(c);i=i.options;if(i){for(var d,h=0,u=i;h<u.length;h++){var p=u[h];a.appendChild(o.option(p))}o.main.config.selectByGroup&&o.main.config.isMultiple&&(d=o,c.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();for(var i=0,o=a.children;i<o.length;i++){var c=o[i];-1!==c.className.indexOf(d.main.config.option)&&c.click()}})))}o.list.appendChild(a)}else o.list.appendChild(o.option(t))}(d[c])},s.prototype.option=function(t){if(t.placeholder){var i=document.createElement("div");return i.classList.add(this.main.config.option),i.classList.add(this.main.config.hide),i}var a=document.createElement("div");a.classList.add(this.main.config.option),a.setAttribute("role","option"),t.class&&t.class.split(" ").forEach((function(t){a.classList.add(t)})),t.style&&(a.style.cssText=t.style);var c=this.main.data.getSelected();a.dataset.id=t.id,this.main.config.searchHighlight&&this.main.slim&&t.innerHTML&&""!==this.main.slim.search.input.value.trim()?a.innerHTML=(0,o.highlight)(t.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):t.innerHTML&&(a.innerHTML=t.innerHTML),this.main.config.showOptionTooltips&&a.textContent&&a.setAttribute("title",a.textContent);var d=this;a.addEventListener("click",(function(i){i.preventDefault(),i.stopPropagation();var a=this.dataset.id;if(!0===t.selected&&d.main.config.allowDeselectOption){var o=!1;if(d.main.beforeOnChange&&d.main.config.isMultiple||(o=!0),d.main.beforeOnChange&&d.main.config.isMultiple){for(var h=d.main.data.getSelected(),u=JSON.parse(JSON.stringify(h)),p=0;p<u.length;p++)u[p].id===a&&u.splice(p,1);!1!==d.main.beforeOnChange(u)&&(o=!0)}o&&(d.main.config.isMultiple?(d.main.data.removeFromSelected(a,"id"),d.main.render(),d.main.select.setValue(),d.main.data.onDataChange()):d.main.set(""))}else t.disabled||t.selected||d.main.config.limit&&Array.isArray(c)&&d.main.config.limit<=c.length||(d.main.beforeOnChange?(h=void 0,(o=JSON.parse(JSON.stringify(d.main.data.getObjectFromData(a)))).selected=!0,d.main.config.isMultiple?(h=JSON.parse(JSON.stringify(c))).push(o):h=JSON.parse(JSON.stringify(o)),!1!==d.main.beforeOnChange(h)&&d.main.set(a,"id",d.main.config.closeOnSelect)):d.main.set(a,"id",d.main.config.closeOnSelect))}));i=c&&(0,o.isValueInArrayOfObjects)(c,"id",t.id);return(t.disabled||i)&&(a.onclick=null,d.main.config.allowDeselectOption||a.classList.add(this.main.config.disabled),d.main.config.hideSelectedOption&&a.classList.add(this.main.config.hide)),i?a.classList.add(this.main.config.optionSelected):a.classList.remove(this.main.config.optionSelected),a},s);function s(t){this.main=t.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}i.Slim=a}],s.c=i,s.d=function(t,i,a){s.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,i){if(1&i&&(t=s(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)s.d(a,o,function(i){return t[i]}.bind(null,o));return a},s.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(i,"a",i),i},s.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},s.p="",s(s.s=2).default;function s(a){if(i[a])return i[a].exports;var o=i[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,s),o.l=!0,o.exports}var t,i}));var i=t.SlimSelect;export{i as default};

